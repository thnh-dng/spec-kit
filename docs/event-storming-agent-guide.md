# Event Storming Agent Usage Guide

## Overview

The **Event Storming Agent** is a specialized AI agent within the Spec Kit ecosystem designed to facilitate **Event Storming**, a Domain-Driven Design (DDD) methodology for visualizing and analyzing complex business domains. It creates structured, visual representations of business processes and their relationships using industry-standard Event Storming methodology.

## What is Event Storming?

Event Storming is a collaborative workshop method for exploring complex business domains by:
- **Visualizing business processes** as flows of events
- **Identifying domain boundaries** and context relationships
- **Discovering aggregate roots** and business rules
- **Creating shared understanding** between business and technical stakeholders
- **Mapping domain complexity** before technical implementation

## Agent Capabilities

### Core Features
- **Complete Event Storming Methodology**: Implements full DDD Event Storming grammar
- **Flow-Based Organization**: Organizes elements by business process within bounded contexts
- **Visual Diagram Generation**: Creates `.drawio` files compatible with diagrams.net/draw.io
- **Domain-Driven Design Expertise**: Uses proper DDD principles and business language
- **Cross-Context Integration**: Shows how different business domains interact

### Supported Event Storming Elements

| Element Type | Color | Purpose | Position in Flow |
|--------------|-------|---------|------------------|
| **Read Model** | ðŸŸ¢ Green | Data views for user/system needs | Start of flow |
| **UI** | âšª Light Gray | User interface components | After Read Model |
| **Actor** | ðŸŸ¡ Light Yellow | External entities that trigger events | After UI |
| **Action** | ðŸ”µ Blue | Intent to change system state | Triggered by Actor |
| **Policy** | ðŸŸ¡ Yellow | Business rules that handle actions | Processes Actions |
| **Event** | ðŸŸ  Orange | Business state changes (past tense) | Generated by Policies |
| **Reaction Policy** | ðŸŸ£ Purple | Rules triggered by events | Responds to Events |
| **External System** | ðŸ©· Pink | External services/systems | Participates in flows |

## When to Use the Event Storming Agent

### Ideal Use Cases
- **Complex Business Domains**: Multi-stakeholder environments with intricate business rules
- **New System Design**: Starting greenfield projects that need domain modeling
- **Legacy System Analysis**: Understanding existing business processes before modernization
- **Cross-System Integration**: Visualizing how multiple systems interact
- **Requirements Clarification**: Turning abstract business needs into concrete processes

### Integration with Spec Kit Workflows
The Event Storming Agent fits into enhanced Spec Kit workflows:

```
/constitution â†’ /review-spec â†’ Event Storming â†’ /specify â†’ /plan â†’ /tasks â†’ /implement
```

**Specifically valuable for:**
- Projects with >50 requirements or multiple features
- Enterprise applications with complex business domains
- Systems requiring multiple bounded contexts
- Projects with integration points between different business domains

## How to Use the Event Storming Agent

### 1. Basic Invocation

```bash
# The event-storming-agent is typically invoked through Spec Kit's agent system
# After initializing a Spec Kit project with AI agent support:
/agent event-storming-agent
```

### 2. Providing Input

#### Required Information
Provide a clear description of your business domain including:

**Example 1 - E-commerce System:**
```
I need to model an e-commerce order processing system with the following components:
- Customer registration and authentication
- Product catalog browsing and search
- Shopping cart management
- Checkout process with multiple payment methods
- Order fulfillment and shipping
- Inventory management integration
- Customer support and returns processing

Key stakeholders: Customers, Merchants, Payment Processors, Shipping Carriers
```

**Example 2 - Loan Processing System:**
```
Model a loan approval system for a financial institution:
- Online loan application submission
- Document upload and verification
- Credit scoring and risk assessment
- Underwriter review and approval
- Compliance checking and regulatory compliance
- Fund disbursement and repayment processing
- Customer communication throughout the process

Stakeholders: Applicants, Loan Officers, Underwriters, Compliance Officers, IT Systems
```

#### Input Guidelines
- **Use Business Language**: Focus on "what" and "why" rather than "how"
- **Identify Actors**: List key stakeholders and external systems
- **Define Scope**: Clearly specify business domain boundaries
- **Provide Context**: Include business objectives and constraints

### 3. Understanding the Output

The agent generates:
- **`.drawio` file**: Visual Event Storming diagram compatible with diagrams.net
- **Structured Analysis**: Description of flows, bounded contexts, and key insights
- **Implementation Guidance**: Technical considerations for development teams

### 4. Working with Generated Diagrams

#### Viewing and Editing
1. **Open in diagrams.net**: Use [app.diagrams.net](https://app.diagrams.net) or the desktop application
2. **Export Options**: Save as PNG, SVG, PDF, or other formats
3. **Collaborative Editing**: Share with team members for review and refinement

#### Diagram Structure
- **Left-to-Right Flow**: Temporal progression of business processes
- **Color-Coded Elements**: Each element type has distinct colors
- **Bounded Contexts**: Logical groupings of related business processes
- **Cross-Connections**: Lines showing how different contexts interact

## Advanced Usage Patterns

### 1. Complex Multi-Context Domains

For systems with multiple bounded contexts:

```bash
# Input example for multi-banking system
"Model a comprehensive banking platform with:
- Retail Banking (accounts, transfers, cards)
- Investment Banking (portfolio management, trading)
- Loan Management (personal loans, mortgages)
- Risk Management (fraud detection, compliance)
- Customer Service (support, dispute resolution)

Show how these contexts interact through events like:
- Customer onboarding events
- Transaction monitoring events
- Compliance checking events
- Risk assessment events"
```

### 2. System Integration Analysis

For visualizing how existing systems integrate:

```bash
# Input example for system integration
"Analyze the integration between our CRM system and:
- Marketing automation platform
- Customer support ticketing system
- Billing and invoicing system
- Inventory management system

Focus on:
- Customer data synchronization events
- Marketing campaign triggers
- Support ticket creation flows
- Cross-system reaction policies
- Data consistency and error handling"
```

### 3. Process Optimization Analysis

For improving existing business processes:

```bash
# Input example for process optimization
"Model our current order fulfillment process and identify bottlenecks:
- Customer order placement
- Inventory checking and reservation
- Payment processing
- Warehouse picking and packing
- Shipping carrier selection
- Delivery tracking
- Customer notification

Current pain points: manual inventory checks, payment failures, shipping delays
Goal: Identify optimization opportunities through event analysis"
```

## Best Practices

### For Input Preparation
1. **Be Specific**: Use concrete business processes rather than abstract concepts
2. **Include Stakeholders**: List all actors, systems, and external entities
3. **Define Boundaries**: Clearly scope what's in and out of the domain
4. **Provide Context**: Explain business objectives and constraints

### For Working with Output
1. **Review for Completeness**: Ensure all major business processes are represented
2. **Validate with Stakeholders**: Share diagrams with business domain experts
3. **Iterate and Refine**: Use feedback to improve the model
4. **Use as Reference**: Keep diagrams handy during specification and implementation

### For Team Collaboration
1. **Collaborative Sessions**: Use diagrams as focal points for team discussions
2. **Domain Experts**: Involve business stakeholders in review and validation
3. **Development Planning**: Use event flows to plan development sprints
4. **Testing Scenarios**: Create test cases based on event sequences

## Integration with Spec Kit Workflow

### 1. Before Specification
Use Event Storming to:
- Understand business domain complexity
- Identify key business events and processes
- Discover system boundaries and integration points
- Create shared understanding among stakeholders

### 2. During Specification
Reference Event Storming diagrams to:
- Ensure specifications align with business processes
- Identify all affected business contexts
- Plan integration points and dependencies
- Define acceptance criteria based on business events

### 3. During Implementation
Use diagrams as reference for:
- Understanding business context of features
- Identifying impact of changes across domains
- Planning test scenarios and user stories
- Communicating with business stakeholders

## Troubleshooting

### Common Issues

**Issue: Diagram is too complex or cluttered**
- **Solution**: Focus on specific business processes one at a time
- **Solution**: Create separate diagrams for different bounded contexts

**Issue: Missing business processes**
- **Solution**: Review input with domain experts
- **Solution**: Provide more detailed business requirements

**Issue: Technical focus instead of business focus**
- **Solution**: Reframe input using business language
- **Solution**: Focus on "what" happens rather than "how" it's implemented

### Getting Help

1. **Review Examples**: Look at the template diagrams in `.claude/es-template/`
2. **Consult Domain Experts**: Validate business processes with stakeholders
3. **Iterate**: Refine input and regenerate diagrams as needed
4. **Check Integration**: Ensure consistency with other Spec Kit artifacts

## Template Files

The agent uses template files located at:
- **`.claude/es-template/Event Storming.xml`**: Element definitions and styling
- **`.claude/es-template/event-storming-template.drawio`**: Example diagram structure

## Success Metrics

Successful Event Storming sessions result in:
- âœ… Clear visualization of business processes
- âœ… Identified bounded contexts and domain boundaries
- âœ… Shared understanding among stakeholders
- âœ… Input ready for detailed specification creation
- âœ… Foundation for technical architecture decisions
- âœ… Comprehensive test scenario planning

## Next Steps

After generating Event Storming diagrams:

1. **Review and Validate**: Share with business domain experts
2. **Refine Specifications**: Use insights to create detailed feature specs
3. **Plan Implementation**: Map events to development tasks
4. **Set Up Testing**: Create test cases based on event flows
5. **Monitor Progress**: Track implementation against business process flows

## Examples in Repository

Look for example Event Storming diagrams in:
- `specs/` directory for project-specific examples
- `.claude/es-template/` for template reference
- Documentation for integration patterns

---

The Event Storming Agent is a powerful tool for understanding and visualizing complex business domains. By following this guide, you can effectively leverage it to create clear, actionable domain models that bridge the gap between business requirements and technical implementation.